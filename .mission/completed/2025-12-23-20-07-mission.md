# MISSION

type: WET
track: 2
iteration: 1
status: completed
completed_at: 2025-12-23T20:07:53.893-05:00

## INTENT
Refactor WriteTemplates function in templates.go to use slicer and merger utilities from utils module for user data preservation. Replace custom parseMarkdownSections and mergeTemplateWithUserData functions with utils.SliceMarkdown and utils.MergeSectionLists. Preserve AllowedUnparsedContent from validator.go during parse and merge operations.

## SCOPE
internal/templates/templates.go
internal/utils/validator.go

## PLAN
- [x] Import utils package in templates.go
- [x] Replace parseMarkdownSections function with utils.SliceMarkdown
- [x] Replace mergeTemplateWithUserData function with utils.MergeSectionLists
- [x] Update WriteTemplates function to use new utilities
- [x] Ensure AllowedUnparsedContent from validator.go is preserved during operations
- [x] Note: Allow duplication for initial implementation

## VERIFICATION
go test ./internal/templates/... && go test ./internal/utils/... && go build -o bin/m main.go && ./bin/m init --ai-type q --dry-run

## EXECUTION INSTRUCTIONS
⚠️  DO NOT EXECUTE THIS MISSION NOW
- This is PLANNING PHASE only
- Run: `@m.apply` to execute this mission (requires user approval)
- Run: `@m.complete` to archive when finished
